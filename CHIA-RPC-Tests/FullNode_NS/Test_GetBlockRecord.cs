using CHIA_RPC.FullNode_NS;
using CHIA_RPC_Tests.Testhelpers;

namespace CHIA_RPC_Tests.FullNode_NS
{
    public class Test_GetBlockRecord
    {
        private string[] ExpectedResults = new string[]
        {
            "{\r\n  \"block_record\": {\r\n    \"challenge_block_info_hash\": \"0x08dbc5c9f4676bad4cd2fad9b120afefdc107ffdd4066f73f14baf2a204f13df\",\r\n    \"challenge_vdf_output\": {\r\n      \"data\": \"0x0000af33fa9862d4e257498e9ba0c3cda09c1389d1fde0facd72ea26f5371ba94deb18137d95bd83b1c7afefba6293feda91d744d014c747e132db0247839e9bd00d790c06f753a9d344c80c455a86ecd979c31687ece60748a5d62dca4723c3780d0906\"\r\n    },\r\n    \"deficit\": 9,\r\n    \"farmer_puzzle_hash\": \"0x8f5474dc460673a39c96bb0fdfea933f5d1269c138e47a67f07872c04803a4e7\",\r\n    \"fees\": 0,\r\n    \"finished_challenge_slot_hashes\": null,\r\n    \"finished_infused_challenge_slot_hashes\": null,\r\n    \"finished_reward_slot_hashes\": null,\r\n    \"header_hash\": \"0x3723909a7374c4c88cf00ab9b15365f4988f5bdb2d51bac23f6af939fe40f56c\",\r\n    \"height\": 101,\r\n    \"infused_challenge_vdf_output\": {\r\n      \"data\": \"0x0300a4bc6790208e73245df6a85b3f7beac0d17e73972b414a7f94cf1e3c3e9bb4a400516d368cfa8b1814f3b5163fe5a54a1fe35781f58290673c8d9f56cd23b94c138b21207d6aa6f3049f8ad805eb99b28292e06e748117e78e13598cee9945670100\"\r\n    },\r\n    \"overflow\": false,\r\n    \"pool_puzzle_hash\": \"0x8f5474dc460673a39c96bb0fdfea933f5d1269c138e47a67f07872c04803a4e7\",\r\n    \"prev_hash\": \"0x9a6c8728021574c5f3242370831b9fde7a0421f4448b4848276fe1652580c6a7\",\r\n    \"prev_transaction_block_hash\": \"0x6c94307cb88f37ca002936769246579824ecadc77fe1e445d31165e6958288e8\",\r\n    \"prev_transaction_block_height\": 97,\r\n    \"required_iters\": 1045145,\r\n    \"reward_claims_incorporated\": [\r\n      {\r\n        \"amount\": 1750000000000,\r\n        \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a00000000000000000000000000000061\",\r\n        \"puzzle_hash\": \"0x8f3dff600992a0b77aefbe8eb81dd4f233b9126f3b67557594b5a927d6e6d588\"\r\n      },\r\n      {\r\n        \"amount\": 250000000000,\r\n        \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb00000000000000000000000000000061\",\r\n        \"puzzle_hash\": \"0x8f3dff600992a0b77aefbe8eb81dd4f233b9126f3b67557594b5a927d6e6d588\"\r\n      }\r\n    ],\r\n    \"reward_infusion_new_challenge\": \"0x100b6fbe0778ae13e48e9bf71b7de4e31e5c1d73a0b041e0277f4a76b5338604\",\r\n    \"signage_point_index\": 19,\r\n    \"sub_epoch_summary_included\": null,\r\n    \"sub_slot_iters\": 134217728,\r\n    \"timestamp\": 1616164827,\r\n    \"total_iters\": 449835673,\r\n    \"weight\": 714\r\n  },\r\n  \"success\": true,\r\n  \"error\": null\r\n}",
            "{\r\n    \"block_record\": {\r\n        \"challenge_block_info_hash\": \"0x8b51a91841d9b962b11a3aad0e186f9258bda32c8a4bb8a8c2a10220652e7310\",\r\n        \"challenge_vdf_output\": {\r\n            \"data\": \"0x0300c819de4b04e4ae20a4c886395045108a5a39db80edbb951f0376dd1eba388748584b5af92625806d2412bbd2e2eb5ceeb5b122e584b9ca8b6067286514c90b07a9e9f64b4ba0bf96478a178651de6cc715eb179f3743de49e4ae7046d188620e0100\"\r\n        },\r\n        \"deficit\": 6,\r\n        \"farmer_puzzle_hash\": \"0x93263bcd4d1c10bb099490eff5ebe0d1f83c96899b93e807424cf7aa17fe1503\",\r\n        \"fees\": 0,\r\n        \"finished_challenge_slot_hashes\": null,\r\n        \"finished_infused_challenge_slot_hashes\": null,\r\n        \"finished_reward_slot_hashes\": null,\r\n        \"header_hash\": \"0x1743f356fc9a811fc8bf6bc9fbf3d2ed973f3c4cef132356d5cce390731e4c63\",\r\n        \"height\": 3000000,\r\n        \"infused_challenge_vdf_output\": {\r\n            \"data\": \"0x01000d9d6e70b698db981a616929ba57b2110e081c34a87a409ef15832f334dfefe97286433c733781959c17ebb34bee5c3e14199c4a43a88c0a90f8feae2ba7341e0957e34a655959b001c8d31a80e18f42af303a1932dd58e72b7dc9e31b0886220200\"\r\n        },\r\n        \"overflow\": false,\r\n        \"pool_puzzle_hash\": \"0xf72bcbd49b412e84f46d4637220252bd0e3a4564c53ae07f9acf2ae84229ba3e\",\r\n        \"prev_hash\": \"0x7022a20bb06dc47248731823e1ad01a8105ef3e01f3a3f20d9cf25ff0df765b0\",\r\n        \"prev_transaction_block_hash\": \"0x07a631da0cae81a34c4cf33e40ac394466141ad3aadc1e498c8f641f2713c5c4\",\r\n        \"prev_transaction_block_height\": 2999995,\r\n        \"required_iters\": 2245369,\r\n        \"reward_claims_incorporated\": [\r\n            {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a000000000000000000000000002dc6bb\",\r\n                \"puzzle_hash\": \"0x7a0790d18588bc84007e7d4a3e53e293fa1c0ca350d2b6a42659b3ae38c4561f\"\r\n            },\r\n            {\r\n                \"amount\": 250050001011,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000002dc6bb\",\r\n                \"puzzle_hash\": \"0xe3b9adc4eb09d18d83bd56482aee566820f5afdce595b3ed095eb36c5cef9301\"\r\n            },\r\n            {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a000000000000000000000000002dc6ba\",\r\n                \"puzzle_hash\": \"0x9470b0ba0a8697dc2b702aae1d259e0bdbdf18c7d1be3709e93ae583f078ffd5\"\r\n            },\r\n            {\r\n                \"amount\": 250000000000,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000002dc6ba\",\r\n                \"puzzle_hash\": \"0x309c0113f358c627e1a9c42069eab159b209ea7f15d2a615a1f65fa368e160bc\"\r\n            },\r\n            {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a000000000000000000000000002dc6b9\",\r\n                \"puzzle_hash\": \"0xebc07ca111c48d4ccc5c716108e1765cb960055a31312d2604fbe77685b880a1\"\r\n            },\r\n            {\r\n                \"amount\": 250000000000,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb000000000000000000000000002dc6b9\",\r\n                \"puzzle_hash\": \"0x185af79d5e58571645103a6e39d5e9399410059c8c279a601054326240cff77e\"\r\n            }\r\n        ],\r\n        \"reward_infusion_new_challenge\": \"0xe4c1bf71e8761ca66e3612b6ad3f2f7f08ae325112ede3b7826a56ddeafb7282\",\r\n        \"signage_point_index\": 14,\r\n        \"sub_epoch_summary_included\": null,\r\n        \"sub_slot_iters\": 147849216,\r\n        \"timestamp\": 1671732821,\r\n        \"total_iters\": 12236354061049,\r\n        \"weight\": 6173224536\r\n    },\r\n    \"success\": true\r\n}",
            "{\r\n    \"block_record\": {\r\n        \"challenge_block_info_hash\": \"0x08dbc5c9f4676bad4cd2fad9b120afefdc107ffdd4066f73f14baf2a204f13df\",\r\n        \"challenge_vdf_output\": {\r\n            \"data\": \"0x0000af33fa9862d4e257498e9ba0c3cda09c1389d1fde0facd72ea26f5371ba94deb18137d95bd83b1c7afefba6293feda91d744d014c747e132db0247839e9bd00d790c06f753a9d344c80c455a86ecd979c31687ece60748a5d62dca4723c3780d0906\"\r\n        },\r\n        \"deficit\": 9,\r\n        \"farmer_puzzle_hash\": \"0x8f5474dc460673a39c96bb0fdfea933f5d1269c138e47a67f07872c04803a4e7\",\r\n        \"fees\": 0,\r\n        \"finished_challenge_slot_hashes\": null,\r\n        \"finished_infused_challenge_slot_hashes\": null,\r\n        \"finished_reward_slot_hashes\": null,\r\n        \"header_hash\": \"0x3723909a7374c4c88cf00ab9b15365f4988f5bdb2d51bac23f6af939fe40f56c\",\r\n        \"height\": 101,\r\n        \"infused_challenge_vdf_output\": {\r\n            \"data\": \"0x0300a4bc6790208e73245df6a85b3f7beac0d17e73972b414a7f94cf1e3c3e9bb4a400516d368cfa8b1814f3b5163fe5a54a1fe35781f58290673c8d9f56cd23b94c138b21207d6aa6f3049f8ad805eb99b28292e06e748117e78e13598cee9945670100\"\r\n        },\r\n        \"overflow\": false,\r\n        \"pool_puzzle_hash\": \"0x8f5474dc460673a39c96bb0fdfea933f5d1269c138e47a67f07872c04803a4e7\",\r\n        \"prev_hash\": \"0x9a6c8728021574c5f3242370831b9fde7a0421f4448b4848276fe1652580c6a7\",\r\n        \"prev_transaction_block_hash\": \"0x6c94307cb88f37ca002936769246579824ecadc77fe1e445d31165e6958288e8\",\r\n        \"prev_transaction_block_height\": 97,\r\n        \"required_iters\": 1045145,\r\n        \"reward_claims_incorporated\": [\r\n            {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a00000000000000000000000000000061\",\r\n                \"puzzle_hash\": \"0x8f3dff600992a0b77aefbe8eb81dd4f233b9126f3b67557594b5a927d6e6d588\"\r\n            },\r\n            {\r\n                \"amount\": 250000000000,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb00000000000000000000000000000061\",\r\n                \"puzzle_hash\": \"0x8f3dff600992a0b77aefbe8eb81dd4f233b9126f3b67557594b5a927d6e6d588\"\r\n            }\r\n        ],\r\n        \"reward_infusion_new_challenge\": \"0x100b6fbe0778ae13e48e9bf71b7de4e31e5c1d73a0b041e0277f4a76b5338604\",\r\n        \"signage_point_index\": 19,\r\n        \"sub_epoch_summary_included\": null,\r\n        \"sub_slot_iters\": 134217728,\r\n        \"timestamp\": 1616164827,\r\n        \"total_iters\": 449835673,\r\n        \"weight\": 714\r\n    },\r\n    \"success\": true\r\n}"
        };
        [Fact]
        public void Test_ResponseSerialisation()
        {
            Test_ResponseClasses<GetBlockRecord_Response> helper = new Test_ResponseClasses<GetBlockRecord_Response>();
            helper.Test_Serialisation(ExpectedResults);
        }
        [Fact]
        public void Test_ResponseDiskIO()
        {
            Test_ResponseClasses<GetBlockRecord_Response> helper = new Test_ResponseClasses<GetBlockRecord_Response>();
            helper.Test_DiskIO(ExpectedResults);
        }
    }
}
