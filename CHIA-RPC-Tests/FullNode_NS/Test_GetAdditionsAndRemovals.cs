using CHIA_RPC.FullNode_NS;
using CHIA_RPC.General_NS;
using CHIA_RPC_Tests.Testhelpers;

namespace CHIA_RPC_Tests.FullNode_NS
{
    public class Test_GetAdditionsAndRemovals
    {
        private string[] ExpectedRPCResults = new string[]
        {
             "{\"header_hash\":\"bc89e52aabf264bd1fe4c11ee8aacfc7c03899a3f2604981000bddaedcc7167d\"}"
        };
        string[] ExpectedResponseResults = new string[]
        {
            "{\r\n  \"additions\": [\r\n    {\r\n      \"coin\": {\r\n        \"amount\": 413530529990,\r\n        \"parent_coin_info\": \"0x35d9841f95f8f32050a76b0e24eefd2764d820c80f966eb30a79a2cb871588d1\",\r\n        \"puzzle_hash\": \"0xebebc91efa8d5f7ed3de7a3c66b6a17abad2208494d053f8ca828c97ec7625c3\"\r\n      },\r\n      \"coinbase\": false,\r\n      \"confirmed_block_index\": 922652,\r\n      \"spent\": false,\r\n      \"spent_block_index\": 0,\r\n      \"timestamp\": 1632832355\r\n    },\r\n    {\r\n      \"coin\": {\r\n        \"amount\": 80838001,\r\n        \"parent_coin_info\": \"0x6ddcbcef132c1f2de149527da87c0eec9aa337c66932b926da1a554c7da9aff3\",\r\n        \"puzzle_hash\": \"0x6d23c175031242cf236f847bfd5ae288259bc17aa7022dad0629298995d9d462\"\r\n      },\r\n      \"coinbase\": false,\r\n      \"confirmed_block_index\": 922652,\r\n      \"spent\": false,\r\n      \"spent_block_index\": 0,\r\n      \"timestamp\": 1632832355\r\n    }\r\n  ],\r\n  \"removals\": [\r\n    {\r\n      \"coin\": {\r\n        \"amount\": 99899995990,\r\n        \"parent_coin_info\": \"0x8e9cac58448e58eee5a0fe8a9c9ab5ba094c6c560f9c340ba8d29905123a0757\",\r\n        \"puzzle_hash\": \"0x37963ebd69b61f042322f8db0b6eed0fa386940c4fac31756c994e0bc5ab3f8e\"\r\n      },\r\n      \"coinbase\": false,\r\n      \"confirmed_block_index\": 922641,\r\n      \"spent\": true,\r\n      \"spent_block_index\": 922652,\r\n      \"timestamp\": 1632832185\r\n    },\r\n    {\r\n      \"coin\": {\r\n        \"amount\": 921799000,\r\n        \"parent_coin_info\": \"0xd78dc3318386f028e090a0f41886983c6e83c7705d1318b93f5309aaa3ddc4b0\",\r\n        \"puzzle_hash\": \"0xc45165adea743c6c31433801e220acd15ed9d1cacfa907a8dd1afacdb4e70da6\"\r\n      },\r\n      \"coinbase\": false,\r\n      \"confirmed_block_index\": 922641,\r\n      \"spent\": true,\r\n      \"spent_block_index\": 922652,\r\n      \"timestamp\": 1632832185\r\n    }\r\n  ],\r\n  \"success\": true,\r\n  \"error\": null\r\n}"
            ,"{\r\n    \"additions\": [\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0x9558e5246519b184da7bd9d7bfb528680309352f8658941bfd9452f38d976294\",\r\n                \"puzzle_hash\": \"0x2f2c9ba1b2315d413a92b5f034fa03282ccba1767fd9ae7b14d942b969ed5d57\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1,\r\n                \"parent_coin_info\": \"0x9558e5246519b184da7bd9d7bfb528680309352f8658941bfd9452f38d976294\",\r\n                \"puzzle_hash\": \"0xbcf5ca4509bcd430a3366c6b261e09b9def74ee7c5a4a3388a56ae9380099bfc\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 82488030982,\r\n                \"parent_coin_info\": \"0x7a639649fa2b6b4233cab7bf98b3da01be182afba622eb377011ac0940cd83c8\",\r\n                \"puzzle_hash\": \"0x5cfe0cf4c19ca813a05c642915bd68a5e99baee39033d0c6d70774296397e249\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1,\r\n                \"parent_coin_info\": \"0x7a639649fa2b6b4233cab7bf98b3da01be182afba622eb377011ac0940cd83c8\",\r\n                \"puzzle_hash\": \"0xb5db5e9e2b807d276cfeeed124e2629e1c9ee90cabc209a7469ef13545d120ad\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1,\r\n                \"parent_coin_info\": \"0xadc1a21da474f751a3235f45ae17a2a97ad28cc8c475842a876685d3cd0419ea\",\r\n                \"puzzle_hash\": \"0xfd41971c8c4cb5b662f7a1aa49790fa110a0b99f9ada4bb6276a23670cdbb4aa\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xadc1a21da474f751a3235f45ae17a2a97ad28cc8c475842a876685d3cd0419ea\",\r\n                \"puzzle_hash\": \"0x2f2c9ba1b2315d413a92b5f034fa03282ccba1767fd9ae7b14d942b969ed5d57\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 82487941066,\r\n                \"parent_coin_info\": \"0x727961c5d7febde6ea775bd98aca7461f9c6150599bf726a8ccb5f61e86b1f53\",\r\n                \"puzzle_hash\": \"0xe0ce2b64138107f8371f83aaef3dabf81c19227268ddc2a8c1238adcb7244794\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1,\r\n                \"parent_coin_info\": \"0x727961c5d7febde6ea775bd98aca7461f9c6150599bf726a8ccb5f61e86b1f53\",\r\n                \"puzzle_hash\": \"0xb5db5e9e2b807d276cfeeed124e2629e1c9ee90cabc209a7469ef13545d120ad\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032f4ec\",\r\n                \"puzzle_hash\": \"0x907491ca39c35bc1f9a6eda33f7c0f97a9f583975088dad7216f1edd79f522ae\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 250000000000,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb0000000000000000000000000032f4ec\",\r\n                \"puzzle_hash\": \"0x907491ca39c35bc1f9a6eda33f7c0f97a9f583975088dad7216f1edd79f522ae\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032f4ea\",\r\n                \"puzzle_hash\": \"0x6529ccb5c37da2c32b5e0984043969e84254dcccf70459c137f9661f06388e8c\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 250000000000,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb0000000000000000000000000032f4eb\",\r\n                \"puzzle_hash\": \"0x454ead2a2dd42ee0d4c66dff83e1df3d769770010b4890b44883dcad2276aa19\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 250000000000,\r\n                \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb0000000000000000000000000032f4ea\",\r\n                \"puzzle_hash\": \"0x10926349cdd6b3bad8cc66073f52530cd89a237f932c4b5f737f8fe1aa3ec173\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032f4eb\",\r\n                \"puzzle_hash\": \"0xca240d0ec25d7cadbe0c920e95e6b8011da2e86aaca2959a8bd8fbec97684ddc\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339504,\r\n            \"spent\": false,\r\n            \"spent_block_index\": 0,\r\n            \"timestamp\": 1678082304\r\n        }\r\n    ],\r\n    \"removals\": [\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1,\r\n                \"parent_coin_info\": \"0x5112208f031c9c158f3e25f91fe1cd2593251c713393329f53d4f7a438512622\",\r\n                \"puzzle_hash\": \"0xbcf5ca4509bcd430a3366c6b261e09b9def74ee7c5a4a3388a56ae9380099bfc\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3161234,\r\n            \"spent\": true,\r\n            \"spent_block_index\": 3339504,\r\n            \"timestamp\": 1674748162\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1,\r\n                \"parent_coin_info\": \"0x5b778e06d75e13265e66169372c4272b1c97eae44ffb72fbe957957b0c341819\",\r\n                \"puzzle_hash\": \"0xfd41971c8c4cb5b662f7a1aa49790fa110a0b99f9ada4bb6276a23670cdbb4aa\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3269008,\r\n            \"spent\": true,\r\n            \"spent_block_index\": 3339504,\r\n            \"timestamp\": 1676766135\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 82487942067,\r\n                \"parent_coin_info\": \"0x4c2710fe1401ab8aa1c88d5dd1720dafaac3ffa68c54a67423b5f8e6471278c1\",\r\n                \"puzzle_hash\": \"0xa500c99239723e078089cfa2f64aa1bb2140b503cb4e940fedeb7b6313096e1c\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339361,\r\n            \"spent\": true,\r\n            \"spent_block_index\": 3339504,\r\n            \"timestamp\": 1678079546\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 82488031983,\r\n                \"parent_coin_info\": \"0xfdc7526bfc5107e000b4f710c8c5944f11f4e7ce9711c522b6040bc473266313\",\r\n                \"puzzle_hash\": \"0x5198fccb3ca8f14c32a5f05ac50c98209defd2d3ed3ee2a17789a9f6fd7d433b\"\r\n            },\r\n            \"coinbase\": false,\r\n            \"confirmed_block_index\": 3339400,\r\n            \"spent\": true,\r\n            \"spent_block_index\": 3339504,\r\n            \"timestamp\": 1678080343\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032f4d1\",\r\n                \"puzzle_hash\": \"0x275544ef0d40a516979d208ac215b306eefddb9675d0bdd08336f06d90f99444\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339476,\r\n            \"spent\": true,\r\n            \"spent_block_index\": 3339504,\r\n            \"timestamp\": 1678081696\r\n        },\r\n        {\r\n            \"coin\": {\r\n                \"amount\": 1750000000000,\r\n                \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032f4d0\",\r\n                \"puzzle_hash\": \"0x3ef5a53f9b70a309e1778635d9841c1dbdc9eeaf18e963e619327cf92843879b\"\r\n            },\r\n            \"coinbase\": true,\r\n            \"confirmed_block_index\": 3339476,\r\n            \"spent\": true,\r\n            \"spent_block_index\": 3339504,\r\n            \"timestamp\": 1678081696\r\n        }\r\n    ],\r\n    \"success\": true\r\n}"
        };

        [Fact]
        public void Test_RPCSerialisation()
        {
           
            Test_RPCClasses<HeaderHash_RPC> helper = new Test_RPCClasses<HeaderHash_RPC>();
            helper.Test_RPCSerialisation(ExpectedRPCResults);
        }
        [Fact]
        public void Test_SavingDiskIO()
        {
            Test_RPCClasses<HeaderHash_RPC> helper = new Test_RPCClasses<HeaderHash_RPC>();
            helper.Test_RPCDiskIO(ExpectedRPCResults);
        }
        [Fact]
        public void Test_ResponseSerialisation()
        {
            
            Test_ResponseClasses<GetAdditionsAndRemovals_Response> helper = new Test_ResponseClasses<GetAdditionsAndRemovals_Response>();
            helper.Test_ResponseSerialisation(ExpectedResponseResults);
        }
        [Fact]
        public void Test_ResponseDiskIO()
        {
            Test_ResponseClasses<GetAdditionsAndRemovals_Response> helper = new Test_ResponseClasses<GetAdditionsAndRemovals_Response>();
            helper.Test_ResponseDiskIO(ExpectedResponseResults);
        }
    }
}
