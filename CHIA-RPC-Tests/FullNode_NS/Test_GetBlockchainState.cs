using CHIA_RPC.FullNode_NS;
using CHIA_RPC_Tests.Testhelpers;

namespace CHIA_RPC_Tests.FullNode_NS
{
    public class Test_GetBlockchainState
    {
        private string[] ExpectedResults = new string[]
        {
            "{\r\n  \"blockchain_state\": {\r\n    \"difficulty\": 3008,\r\n    \"genesis_challenge_initialized\": true,\r\n    \"mempool_size\": 0,\r\n    \"peak\": {\r\n      \"challenge_block_info_hash\": \"0x436bd6f7db0de90db868594b862d9388a231402f3c601282773ccab8e54914f3\",\r\n      \"challenge_vdf_output\": {\r\n        \"data\": \"0x01001ea29503859966e59024fb3a903e424a1652e724483b86928febca5e308d7039b7138847e436e5f1ba5f6c025f6c6ff275c070149079877463aa077f571d0706516723eaa51113c8ec624a005dc73704fcccefa26bb0eefbb9af15eb5c61b6090201\"\r\n      },\r\n      \"deficit\": 15,\r\n      \"farmer_puzzle_hash\": \"0xe2f70baf739bdaf59e360d3a3e2d4ff8cb89f150d9b60b8e91b870e41b58f2fa\",\r\n      \"fees\": null,\r\n      \"finished_challenge_slot_hashes\": null,\r\n      \"finished_infused_challenge_slot_hashes\": null,\r\n      \"finished_reward_slot_hashes\": null,\r\n      \"header_hash\": \"0xf42b4e77315d79ddfb3d64becb21e26ebff5408bda4d1b7c3782fd04f49ec0bb\",\r\n      \"height\": 914661,\r\n      \"infused_challenge_vdf_output\": null,\r\n      \"overflow\": false,\r\n      \"pool_puzzle_hash\": \"0x71afdce401a0f2a6f03de6287902eacfa38502d6667b04da36e32c3930171ce4\",\r\n      \"prev_hash\": \"0x902ca8dfdd08e79dec3c96837f4e99162508ffaeff730c68af1fde9b86cbf61b\",\r\n      \"prev_transaction_block_hash\": null,\r\n      \"prev_transaction_block_height\": 914660,\r\n      \"required_iters\": 852774,\r\n      \"reward_claims_incorporated\": null,\r\n      \"reward_infusion_new_challenge\": \"0x5566434842f375434f9a558a3de5907db44903036c3de1573852afffbd1991bd\",\r\n      \"signage_point_index\": 0,\r\n      \"sub_epoch_summary_included\": null,\r\n      \"sub_slot_iters\": 136314880,\r\n      \"timestamp\": null,\r\n      \"total_iters\": 3330271511334,\r\n      \"weight\": 1393823840\r\n    },\r\n    \"space\": 40110198681182961664,\r\n    \"sub_slot_iters\": 136314880,\r\n    \"sync\": {\r\n      \"sync_mode\": false,\r\n      \"sync_progress_height\": 0,\r\n      \"sync_tip_height\": 0,\r\n      \"synced\": false\r\n    }\r\n  },\r\n  \"success\": true,\r\n  \"error\": null\r\n}",
            "{\r\n    \"blockchain_state\": {\r\n        \"block_max_cost\": 11000000000,\r\n        \"difficulty\": 1976,\r\n        \"genesis_challenge_initialized\": true,\r\n        \"mempool_cost\": 537334390,\r\n        \"mempool_fees\": 4000,\r\n        \"mempool_max_total_cost\": 550000000000,\r\n        \"mempool_min_fees\": {\r\n            \"cost_5000000\": 0\r\n        },\r\n        \"mempool_size\": 2,\r\n        \"node_id\": \"b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab\",\r\n        \"peak\": {\r\n            \"challenge_block_info_hash\": \"0xebbe31959ad87c2f802fddb7f29974c56ef461acc5b453ebed9407f8ddf63689\",\r\n            \"challenge_vdf_output\": {\r\n                \"data\": \"0x0200fb36f5096da1f2cdbebf570d9da9ce95d2c2767f4423bffdb381756064a92046eaf4b1b25700b48f66283960dac64de6b8406fee99f25f05a0a595236b262a035174b9305c1bae316abdfb72032462539459b3475b968e68fd34df1d52a7de050100\"\r\n            },\r\n            \"deficit\": 0,\r\n            \"farmer_puzzle_hash\": \"0x68e41771a54d741d07cfcc7a9d289a5a5144ad8e6d7cd595f72a2a0f40e63fed\",\r\n            \"fees\": 10500010,\r\n            \"finished_challenge_slot_hashes\": null,\r\n            \"finished_infused_challenge_slot_hashes\": null,\r\n            \"finished_reward_slot_hashes\": null,\r\n            \"header_hash\": \"0x65b9e51000d4ab6996b98bf27c1ccd4b0861a5e3b2e8acdb14f45d1680e5e484\",\r\n            \"height\": 3326213,\r\n            \"infused_challenge_vdf_output\": {\r\n                \"data\": \"0x0000891136068e7c213a6010cc8d521c1e1550a05448391b85e8b63d1cd3575407eec88b8371ed61420810a28829d871dd362ddec08bbf107f6f17a8dad18158120058e2d344496815183acbfae20f89cea55876462079acb1181d5a523f4c9357001c03\"\r\n            },\r\n            \"overflow\": false,\r\n            \"pool_puzzle_hash\": \"0xb197cb377bc5bfed57f84a3d1863e7d305dd57e469e6c4416c8a5ea80cf3069e\",\r\n            \"prev_hash\": \"0x96170585731ff12a2ec6ea553b763b298671a19c27e20a781fc63c684174e379\",\r\n            \"prev_transaction_block_hash\": \"0x1630b20b9dc557af2cd75b2e0fb948fedfaa8228f1169d6296fceb61d2a7162b\",\r\n            \"prev_transaction_block_height\": 3326210,\r\n            \"required_iters\": 380975,\r\n            \"reward_claims_incorporated\": [\r\n                {\r\n                    \"amount\": 1750000000000,\r\n                    \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032c102\",\r\n                    \"puzzle_hash\": \"0x39b2d9b93c6410297131808c51df1787987d1bcf11feb6ce892fd25db89ecaea\"\r\n                },\r\n                {\r\n                    \"amount\": 250000000000,\r\n                    \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb0000000000000000000000000032c102\",\r\n                    \"puzzle_hash\": \"0x39b2d9b93c6410297131808c51df1787987d1bcf11feb6ce892fd25db89ecaea\"\r\n                },\r\n                {\r\n                    \"amount\": 1750000000000,\r\n                    \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032c101\",\r\n                    \"puzzle_hash\": \"0xfdf423d6888068fc8dedb5e405e9204def74468040811d67035ab118c7af2ba4\"\r\n                },\r\n                {\r\n                    \"amount\": 250000000000,\r\n                    \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb0000000000000000000000000032c101\",\r\n                    \"puzzle_hash\": \"0xfdf423d6888068fc8dedb5e405e9204def74468040811d67035ab118c7af2ba4\"\r\n                },\r\n                {\r\n                    \"amount\": 1750000000000,\r\n                    \"parent_coin_info\": \"0xccd5bb71183532bff220ba46c268991a0000000000000000000000000032c100\",\r\n                    \"puzzle_hash\": \"0xbbef6c5bf9f0ea5d8c27219a9a3680809f37d90b053f16e349e8092a9f502ffc\"\r\n                },\r\n                {\r\n                    \"amount\": 250000000000,\r\n                    \"parent_coin_info\": \"0x3ff07eb358e8255a65c30a2dce0e5fbb0000000000000000000000000032c100\",\r\n                    \"puzzle_hash\": \"0x291237b34c6c8416699c8544eb9e2a7f481738418dadb9134c85a05f282829b2\"\r\n                }\r\n            ],\r\n            \"reward_infusion_new_challenge\": \"0xd52af21dc0d1aa4dc824ace6de091419677c4940161695ddad2f06f61b8b61d8\",\r\n            \"signage_point_index\": 43,\r\n            \"sub_epoch_summary_included\": null,\r\n            \"sub_slot_iters\": 147849216,\r\n            \"timestamp\": 1677831914,\r\n            \"total_iters\": 13740836343855,\r\n            \"weight\": 6803132960\r\n        },\r\n        \"space\": 25193321725003644928,\r\n        \"sub_slot_iters\": 147849216,\r\n        \"sync\": {\r\n            \"sync_mode\": false,\r\n            \"sync_progress_height\": 0,\r\n            \"sync_tip_height\": 0,\r\n            \"synced\": true\r\n        }\r\n    },\r\n    \"success\": true\r\n}"
        };
        [Fact]
        public void Test_ResponseSerialisation()
        {
            Test_ResponseClasses<GetBlockchainState_Response> helper = new Test_ResponseClasses<GetBlockchainState_Response>();
            helper.Test_Serialisation(ExpectedResults);
        }
        [Fact]
        public void Test_ResponseDiskIO()
        {
            Test_ResponseClasses<GetBlockchainState_Response> helper = new Test_ResponseClasses<GetBlockchainState_Response>();
            helper.Test_DiskIO(ExpectedResults);
        }
    }
}
